<section class="medicos-section col-xs-12">
  
    <div class="col-xs-12 col-sm-12 col-md-11 col-md-offset-1">

        <!-- Listado y menu -->
        <div class="col-xs-12 col-sm-12 col-md-9 listado-menu">

            <!-- Menú -->
            <div class="col-xs-12 listado-menu-2">
                <h1 class="col-xxs-12 col-xs-12 col-sm-12">Listado de médicos ({{ doctors.length }})</h1>

                <div class="menu-medicos col-xs-12 col-sm-8">
            <form>
                <!-- Especialidad -->
                <div class="form-group">
                    <label for="">Especialidad</label>
                    <ng-select2 [data]="specialtyOptions" [value]="-1" (valueChanged)="specialtyChange($event)" name="especialidad-medico-seccion" lang="es">
                    </ng-select2>
                </div>

                <!-- Sub-especialidad -->
                <div class="form-group">
                    <label for="">Sub especialidad</label>
                    <ng-select2 [data]="subspecialtyOptions" [value]="-1" (valueChanged)="subspecialtyChange($event)" name="subespecialidad-medico-seccion" lang="es"></ng-select2>
                </div>
            </form>
                </div>

                <div class="menu-acciones desk col-xs-12 col-sm-4">
                    <a id="agregar-medico" (click)="showAddDoctor()">Agregar médico</a>
                </div>

            </div>
            <!-- // menu -->

            <!-- Listado de médicos -->
            <div class="col-xs-12 listado-medicos">
                
                <div class="table-responsive">          
                    <table id="table-medicos" class="table table-sortable">
                        <thead>
                            <tr>
                                <th onclick="sortTable2(0)">Nombre y Apellido <i class="fa fa-sort-desc"></i></th>
                                <th onclick="sortTable2(1)">Especialidad <i class="fa fa-sort-desc"></i></th>
                                <th onclick="sortTable2(2)">Sub Especialidad <i class="fa fa-sort-desc"></i></th>
                                <th onclick="sortTable2(3)">Estado <i class="fa fa-sort-desc"></i></th>
                                <th onclick="sortTable2(4)">Horario</th>
                                <th></th>
                            </tr>
                        </thead>
                        
                        <tbody>
                            <tr *ngFor="let doctor of doctors; let i = index">
                                <td>{{ doctor.firstName }} {{ doctor.lastName }}</td>
                                <td>{{ doctor.specialtyDescription }}</td>
                                <td>{{ doctor.subspecialtyDescription }}</td>
                                <td class="state active"><span></span>Activo</td>
                                <td><a class="link-modal-horarios" (click)="showDoctorWorkingHours(i)"><i class="fa fa-eye"></i></a></td>
                                <td class="actions">
                                    <a (click)="editDoctor(i)"><i class="fa fa-pencil"></i></a>
                                    <a class="borrar-med" (click)="setSelectedDoctor(i)"><i class="fa fa-trash"></i></a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- // listado de medicos -->


        </div>
        <!-- // listado y menu -->


        <!-- Calendario mini -->
        <div class="col-xs-12 col-sm-3 calendario-medicos">
            <div class="calendar">
                <div class="col-xs-12 h-c">
                    <h2><i class="fa fa-calendar"></i>Calendario</h2>
                    <h3 id="printDate"></h3>
                </div>
                <div class="group header col-xs-12">
                    <span class="pointer minusmonth"><i class="fa fa-chevron-left" aria-hidden="true"></i></span>
                    <p class="monthname center pointer"></p>
                    <span class="pointer addmonth"><i class="fa fa-chevron-right" aria-hidden="true"></i></span>
                </div>
                <ul class="group col-xs-12">
                    <li>Dom</li>
                    <li>Lun</li>
                    <li>Mar</li>
                    <li>Mie</li>
                    <li>Jue</li>
                    <li>Vie</li>
                    <li>Sab</li>
                </ul>
                <a id="ver-semanal">Versión semanal</a>
                <a id="ver-dia">Versión por día</a>
            </div>
        </div>
        <!-- //calendario mini -->

    </div>
    <!-- // médicos -->

</section>

<!-- Modal Horario -->
<div class="col-xs-12 modal-horarios">
    <div class="inside-modal-horarios col-xs-12 col-sm-6 col-sm-offset-3">
        <div class="header-modal-horarios col-xs-12">
            <h2>Horarios</h2>
            <a class="close-modal-horarios">X</a>
        </div>

        <div class="col-xs-12 col-sm-6 col-sm-offset-3" [hidden]="selectedDoctorWorkingHours.length > 0">
            <p>Este medico no tiene horarios asignados.</p>
        </div>

        <div *ngFor="let wh of selectedDoctorWorkingHours" [hidden]="selectedDoctorWorkingHours.length <= 0" class="col-xs-12 col-sm-6 col-sm-offset-3  horarios-separador" >
            <div class="col-xs-12 col-sm-5">
                <h3>{{ getDayName(wh) }}</h3>
            </div>
            <div class="col-xs-12 col-sm-7">
                <p>{{ getWorkingHourDescription(wh) }}</p>
            </div>
        </div>
    </div>
            
</div>
<!-- // modal horarios -->

<!-- Modal Eliminar Médico -->
<div class="col-xs-12 modal-borrar-medico">
    <div class="inside-borrar-medico col-xs-12 col-sm-6 col-sm-offset-3">
        <div class="header-borrar-medico col-xs-12">
            <h2>Eliminar médico</h2>
            <a class="close-borrar-medico">X</a>
        </div>

        <div class="col-xs-12 col-sm-10 col-sm-offset-1">
            
            <i class="fa fa-trash"></i>

            <p>¿Está seguro que desea <b> eliminar a {{ selectedDoctorName }} </b>?</p>
            
        </div>

        <div class="div-borrar-osocial">
                <a id="borrar-medico-btn" (click)="removeSelectedDoctor()">Eliminar</a>
                <a id="cancelar-medico-btn" (click)="cancelRemoveDoctor()">Cancelar</a>
        </div>

                
    </div>
            
</div>
<!-- // modal eliminar médico -->

<!-- Modal Agrega Médico -->
<div class="col-xs-12 modal-agregar-medico">
    <div class="inside-modal-agregar-medico col-xs-12 col-sm-6 col-sm-offset-3">
        <div class="header-modal-agregar-medico col-xs-12">
            <h2>Nuevo médico</h2>
            <a (click)="hideAddDoctor()" class="close-modal-agregar-medico">X</a>
        </div>

        <div class="col-xs-12 col-sm-10 col-sm-offset-1 m-t">

            <div class="col-xs-12 col-sm-4">
                <h3>Datos personales</h3>
            </div>

            <div class="col-xs-12 col-sm-8">
                <input type="text" placeholder="Nombre" class="datos-personales" name="doctorFirstName" [(ngModel)]="doctorFirstName">
                <input type="text" placeholder="Apellido" class="datos-personales" name="doctorLastName" [(ngModel)]="doctorLastName">
            </div>
            
        </div>

        <div class="col-xs-12 col-sm-10 col-sm-offset-1 m-t">

            <div class="col-xs-12 col-sm-4">
                <h3>Datos profesionales</h3>
            </div>

            <div class="col-xs-12 col-sm-8">
                <ng-select2 [data]="specialtyOptionsDoctor" [value]="doctorSpecialty" (valueChanged)="specialtyChangeDoctor($event)" [options]="{placeholder: 'Especialidad'}" name="especialidad-medico-modal" lang="es"></ng-select2>
            </div>

            <div class="col-xs-12 col-sm-4">
            </div>

            <div class="col-xs-12 col-sm-8">
                <ng-select2 [data]="subspecialtyOptionsDoctor" [value]="doctorSubspecialty" (valueChanged)="subspecialtyChangeDoctor($event)" [options]="{placeholder: 'Subespecialidad'}" name="subespecialidad-medico-modal" lang="es"></ng-select2>
            </div>
            
        </div>

        <div class="col-xs-12 col-sm-10 col-sm-offset-1">

            <div class="col-xs-12 col-sm-4">
                <h3>Datos de consulta</h3>
            </div>

            <div class="col-xs-12 col-sm-8">
                <h4>Horarios y días</h4>
            </div>
                
            <div>
                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorMondayWorks" name="doctorMondayWorks" id="doctorMondayWorks">Lunes
                    </label>
                    <label>
                        <input [(ngModel)]="doctorMondayWhStart" [disabled]="!doctorMondayWorks" [owlDateTimeTrigger]="dtMondayStart" [owlDateTime]="dtMondayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtMondayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorMondayWhEnd" [disabled]="!doctorMondayWorks" [owlDateTimeTrigger]="dtMondayEnd" [owlDateTime]="dtMondayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtMondayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorTuesdayWorks" name="doctorTuesdayWorks" id="doctorTuesdayWorks">Martes
                    </label>
                    <label>
                        <input [(ngModel)]="doctorTuesdayWhStart" [disabled]="!doctorTuesdayWorks" [owlDateTimeTrigger]="dtTuesdayStart" [owlDateTime]="dtTuesdayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtTuesdayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorTuesdayWhEnd" [disabled]="!doctorTuesdayWorks" [owlDateTimeTrigger]="dtTuesdayEnd" [owlDateTime]="dtTuesdayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtTuesdayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorWednesdayWorks" name="doctorWednesdayWorks" id="doctorWednesdayWorks">Miercoles
                    </label>
                    <label>
                        <input [(ngModel)]="doctorWednesdayWhStart" [disabled]="!doctorWednesdayWorks" [owlDateTimeTrigger]="dtWednesdayStart" [owlDateTime]="dtWednesdayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtWednesdayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorWednesdayWhEnd" [disabled]="!doctorWednesdayWorks" [owlDateTimeTrigger]="dtWednesdayEnd" [owlDateTime]="dtWednesdayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtWednesdayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorThursdayWorks" name="doctorThursdayWorks" id="doctorThursdayWorks">Jueves
                    </label>
                    <label>
                        <input [(ngModel)]="doctorThursdayWhStart" [disabled]="!doctorThursdayWorks" [owlDateTimeTrigger]="dtThursdayStart" [owlDateTime]="dtThursdayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtThursdayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorThursdayWhEnd" [disabled]="!doctorThursdayWorks" [owlDateTimeTrigger]="dtThursdayEnd" [owlDateTime]="dtThursdayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtThursdayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorFridayWorks" name="doctorFridayWorks" id="doctorFridayWorks">Viernes
                    </label>
                    <label>
                        <input [(ngModel)]="doctorFridayWhStart" [disabled]="!doctorFridayWorks" [owlDateTimeTrigger]="dtFridayStart" [owlDateTime]="dtFridayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtFridayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorFridayWhEnd" [disabled]="!doctorFridayWorks" [owlDateTimeTrigger]="dtFridayEnd" [owlDateTime]="dtFridayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtFridayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorSaturdayWorks" name="doctorSaturdayWorks" id="doctorSaturdayWorks">Sabado
                    </label>
                    <label>
                        <input [(ngModel)]="doctorSaturdayWhStart" [disabled]="!doctorSaturdayWorks" [owlDateTimeTrigger]="dtSaturdayStart" [owlDateTime]="dtSaturdayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtSaturdayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorSaturdayWhEnd" [disabled]="!doctorSaturdayWorks" [owlDateTimeTrigger]="dtSaturdayEnd" [owlDateTime]="dtSaturdayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtSaturdayEnd></owl-date-time>
                    </label>
                </div>

                <div>
                    <label>
                        <input type="checkbox" [(ngModel)]="doctorSundayWorks" name="doctorSundayWorks" id="doctorSundayWorks">Domingo
                    </label>
                    <label>
                        <input [(ngModel)]="doctorSundayWhStart" [disabled]="!doctorSundayWorks" [owlDateTimeTrigger]="dtSundayStart" [owlDateTime]="dtSundayStart">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtSundayStart></owl-date-time>
                    </label>
                    <span> a </span>
                    <label>
                        <input [(ngModel)]="doctorSundayWhEnd" [disabled]="!doctorSundayWorks" [owlDateTimeTrigger]="dtSundayEnd" [owlDateTime]="dtSundayEnd">
                        <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dtSundayEnd></owl-date-time>
                    </label>
                </div>
            </div>
                <h5>Duración de consulta</h5>
                <label>
                    <input [(ngModel)]="doctorConsultationLength" [owlDateTimeTrigger]="dt4" [owlDateTime]="dt4">
                    <owl-date-time [pickerType]="'timer'" [startAt]="startAt" #dt4></owl-date-time>
                </label>

        </div>
        <div class="div-add-medico">
            <a id="agregar-medico-btn" (click)="addDoctor()">Agregar</a>
        </div>
    </div>
            
</div>
<!-- // modal agregar medico -->